<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      4.5.&nbsp;关于 SBU
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-20200927-systemd，中文翻译版">
    <div class="navheader">
      <h4>
        Linux From Scratch - 版本 20200927-systemd，中文翻译版
      </h4>
      <h3>
        第&nbsp;4&nbsp;章&nbsp;最后准备工作
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="settingenvironment.html" title=
          "配置环境">上一页</a>
          <p>
            配置环境
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="abouttestsuites.html" title="关于测试套件">下一页</a>
          <p>
            关于测试套件
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter04.html" title=
          "第&nbsp;4&nbsp;章&nbsp;最后准备工作">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 20200927-systemd，中文翻译版">起始页</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="zh-cn" xml:lang="zh-cn">
      <h1 class="sect1">
        <a id="ch-preps-aboutsbus" name="ch-preps-aboutsbus"></a>4.5. 关于 SBU
      </h1>
      <p>
        许多人想在编译和安装各个软件包之前，了解这一过程大概需要多少时间。由于 Linux From Scratch
        可以在许多不同系统上构建，我们无法直接给出估计时间。例如，最大的软件包 (Glibc) 在最快的系统上只要大约 20
        分钟就能构建好，而在一些较慢的系统上需要 3 天！因此，我们不提供实际时间，而是以标准构建单位 (SBU) 衡量时间。
      </p>
      <p>
        下面给出标准构建单位的测量方法。本书中构建的第一个软件包是 <a class="xref" href=
        "../chapter05/chapter05.html" title="第&nbsp;5&nbsp;章&nbsp;编译交叉工具链">第
        5 章</a> 中的 Binutils，定义编译它需要的时间为标准构建单位，缩写为 SBU。其他软件包的编译时间用 SBU 为单位表示。
      </p>
      <p>
        例如，考虑一个编译时间是 4.5 SBU 的软件包。如果在某个系统上，需要 10 分钟来编译和安装第一轮的
        Binutils，那么<span class="emphasis"><em>大概</em></span>需要 45
        分钟才能构建这个软件包。幸运的是，多数软件包构建时间比 Binutils 少。
      </p>
      <p>
        一般来说，SBU 不是完全准确的。这是由于它受到许多因素的影响，包括宿主系统的 GCC 版本。SBU
        只能用来估计安装一个软件包可能需要的时间，估计结果的误差在个别情况下可能达到几十分钟。
      </p>
      <div class="admon note">
        <img alt="[注意]" src="../images/note.png" />
        <h3>
          注意
        </h3>
        <p>
          对于许多拥有多个处理器 (或处理器核心) 的现代系统，可以显著缩短软件包的编译时间，设置环境变量或者直接告诉 <span class=
          "command"><strong>make</strong></span> 命令有多少个可用的处理器，即可进行并行构建。例如，一块
          Intel i5-6500 CPU 可以支持 4 个同时运行的进程，可以设定：
        </p>
        <pre class="userinput"><kbd class=
        "command">export MAKEFLAGS='-j4'</kbd></pre>
        <p>
          或者直接用以下命令构建：
        </p>
        <pre class="userinput"><kbd class="command">make -j4</kbd></pre>
        <p>
          用这种方式使用多个处理器时，SBU 值将会发生变化，有时甚至变得比正常值还大。某些情况下，还会导致 make
          命令失败。另外，分析构建过程的的输出也会变得困难，因为不同进程的输出行会交错在一起。如果在构建过程中出现问题，需要使用单处理器进行构建，才能更好地分析错误消息。
        </p>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="settingenvironment.html" title=
          "配置环境">上一页</a>
          <p>
            配置环境
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="abouttestsuites.html" title="关于测试套件">下一页</a>
          <p>
            关于测试套件
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter04.html" title=
          "第&nbsp;4&nbsp;章&nbsp;最后准备工作">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 20200927-systemd，中文翻译版">起始页</a>
        </li>
      </ul>
    </div>
  </body>
</html>
