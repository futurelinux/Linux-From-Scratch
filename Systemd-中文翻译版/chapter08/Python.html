<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      8.49.&nbsp;Python-3.8.5
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-20200927-systemd，中文翻译版">
    <div class="navheader">
      <h4>
        Linux From Scratch - 版本 20200927-systemd，中文翻译版
      </h4>
      <h3>
        第&nbsp;8&nbsp;章&nbsp;安装基本系统软件
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="openssl.html" title="OpenSSL-1.1.1g">上一页</a>
          <p>
            OpenSSL-1.1.1g
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="ninja.html" title="Ninja-1.10.1">下一页</a>
          <p>
            Ninja-1.10.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter08.html" title=
          "第&nbsp;8&nbsp;章&nbsp;安装基本系统软件">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 20200927-systemd，中文翻译版">起始页</a>
        </li>
      </ul>
    </div>
    <div class="wrap" lang="zh-cn" xml:lang="zh-cn">
      <h1 class="sect1">
        <a id="ch-system-Python" name="ch-system-Python"></a>8.49.
        Python-3.8.5
      </h1>
      <div class="package" lang="zh-cn" xml:lang="zh-cn">
        <p>
          Python 3 软件包包含 Python 开发环境。它被用于面向对象编程，编写脚本，为大型程序建立原型，或者开发完整的应用。
        </p>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">估计构建时间:</strong> <span class=
              "segbody">1.3 SBU</span>
            </div>
            <div class="seg">
              <strong class="segtitle">需要硬盘空间:</strong> <span class=
              "segbody">248 MB</span>
            </div>
          </div>
        </div>
      </div>
      <div class="installation" lang="zh-cn" xml:lang="zh-cn">
        <h2 class="sect2">
          8.49.1. 安装 Python 3
        </h2>
        <p>
          准备编译 Python：
        </p>
        <pre class="userinput"><kbd class=
        "command">./configure --prefix=/usr       \
            --enable-shared     \
            --with-system-expat \
            --with-system-ffi   \
            --with-ensurepip=yes</kbd></pre>
        <div class="variablelist">
          <p class="title">
            <strong>配置选项的含义：</strong>
          </p>
          <dl class="variablelist">
            <dt>
              <span class="term"><em class=
              "parameter"><code>--with-system-expat</code></em></span>
            </dt>
            <dd>
              <p>
                该选项允许链接到系统已经安装的 <span class="application">Expat</span>。
              </p>
            </dd>
            <dt>
              <span class="term"><em class=
              "parameter"><code>--with-system-ffi</code></em></span>
            </dt>
            <dd>
              <p>
                该选项允许链接到系统已经安装的 <span class="application">libffi</span>。
              </p>
            </dd>
            <dt>
              <span class="term"><em class=
              "parameter"><code>--with-ensurepip=yes</code></em></span>
            </dt>
            <dd>
              <p>
                该选项启用 <span class="command"><strong>pip</strong></span> 和
                <span class="command"><strong>setuptools</strong></span>
                包管理程序的构建。
              </p>
            </dd>
          </dl>
        </div>
        <p>
          编译该软件包：
        </p>
        <pre class="userinput"><kbd class="command">make</kbd></pre>
        <p>
          运行 <span class="command"><strong>make test</strong></span>
          以测试编译结果。一些需要网络连接或额外软件包的测试会被跳过。名为 test_normalization
          的测试会由于网络配置不完整而失败。如果需要更全面的测试结果，可以在 BLFS 中重新安装 Python 3 时再次进行测试。
        </p>
        <p>
          安装该软件包：
        </p>
        <pre class="userinput"><kbd class="command">make install
chmod -v 755 /usr/lib/libpython3.8.so
chmod -v 755 /usr/lib/libpython3.so
ln -sfv pip3.8 /usr/bin/pip3</kbd></pre>
        <div class="variablelist">
          <p class="title">
            <strong>安装命令的含义：</strong>
          </p>
          <dl class="variablelist">
            <dt>
              <span class="term"><span class="command"><strong>chmod -v 755
              /usr/lib/libpython3.{8.,}so</strong></span></span>
            </dt>
            <dd>
              <p>
                修正库文件访问权限，使之和其他库文件一致。
              </p>
            </dd>
          </dl>
        </div>
        <p>
          如果需要的话，安装预先格式化的文档：
        </p>
        <pre class="userinput"><kbd class=
        "command">install -v -dm755 /usr/share/doc/python-3.8.5/html 

tar --strip-components=1  \
    --no-same-owner       \
    --no-same-permissions \
    -C /usr/share/doc/python-3.8.5/html \
    -xvf ../python-3.8.5-docs-html.tar.bz2</kbd></pre>
        <div class="variablelist">
          <p class="title">
            <strong>文档安装命令的含义：</strong>
          </p>
          <dl class="variablelist">
            <dt>
              <span class="term"><code class="option">--no-same-owner</code>
              和 <code class="option">--no-same-permissions</code></span>
            </dt>
            <dd>
              <p>
                保证安装的文件拥有正确的所有者和权限码。在没有这些选项的时候，<span class=
                "application">tar</span> 会以上游开发者使用的用户和权限码安装文件。
              </p>
            </dd>
          </dl>
        </div>
      </div>
      <div class="content" lang="zh-cn" xml:lang="zh-cn">
        <h2 class="sect2">
          <a id="contents-python" name="contents-python"></a>8.49.2. Python 3
          的内容
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">安装的程序:</strong> <span class=
              "segbody">2to3, idle3, pip3, pydoc3, python3, 以及
              python3-config</span>
            </div>
            <div class="seg">
              <strong class="segtitle">安装的库:</strong> <span class=
              "segbody">libpython3.8.so 和 libpython3.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">安装的目录:</strong> <span class=
              "segbody">/usr/include/python3.8, /usr/lib/python3 以及
              /usr/share/doc/python-3.8.5</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            简要描述
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="python-2to3" name="python-2to3"></a><span class=
                    "term"><span class=
                    "command"><strong>2to3</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    是一个 <span class="application">Python</span> 程序，读取
                    <span class="application">Python 2.x</span>
                    源代码并对它进行一系列修正，转换成合法的 <span class="application">Python
                    3.x</span> 源代码。
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="idle3" name="idle3"></a><span class=
                    "term"><span class=
                    "command"><strong>idle3</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    一个封装脚本，启动支持 <span class="application">Python</span> 语法的
                    GUI 文本编辑器。要运行这个脚本，必须在 Python 之前安装 <span class=
                    "application">Tk</span>，从而构建 Tkinter Python 模块。
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pip3" name="pip3"></a><span class=
                    "term"><span class=
                    "command"><strong>pip3</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Python 包安装器。您可以使用 pip 安装来自 Python 软件包目录或其他目录的包。
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pydoc3" name="pydoc3"></a><span class=
                    "term"><span class=
                    "command"><strong>pydoc3</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    是 <span class="application">Python</span> 文档工具。
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="python3" name="python3"></a><span class=
                    "term"><span class=
                    "command"><strong>python3</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    是一个解释性、交互性、面向对象的程序设计语言。
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="openssl.html" title="OpenSSL-1.1.1g">上一页</a>
          <p>
            OpenSSL-1.1.1g
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="ninja.html" title="Ninja-1.10.1">下一页</a>
          <p>
            Ninja-1.10.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter08.html" title=
          "第&nbsp;8&nbsp;章&nbsp;安装基本系统软件">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 20200927-systemd，中文翻译版">起始页</a>
        </li>
      </ul>
    </div>
  </body>
</html>
