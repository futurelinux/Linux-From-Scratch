<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      3.1.&nbsp;概述
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-20200927-systemd，中文翻译版">
    <div class="navheader">
      <h4>
        Linux From Scratch - 版本 20200927-systemd，中文翻译版
      </h4>
      <h3>
        第&nbsp;3&nbsp;章&nbsp;软件包和补丁
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="chapter03.html" title="软件包和补丁">上一页</a>
          <p>
            软件包和补丁
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="packages.html" title="全部软件包">下一页</a>
          <p>
            全部软件包
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter03.html" title=
          "第&nbsp;3&nbsp;章&nbsp;软件包和补丁">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 20200927-systemd，中文翻译版">起始页</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="zh-cn" xml:lang="zh-cn">
      <h1 class="sect1">
        <a id="ch-materials-introduction" name=
        "ch-materials-introduction"></a>3.1. 概述
      </h1>
      <p>
        本章包含了构建基本的 Linux
        系统时需要下载的软件包列表。我们给出的版本号对应于已经确定可以正常工作的版本，本书是基于这些版本编写的。我们强烈反对使用更新的版本，因为特定版本可用的构建命令未必适用于新版本。最新版本的软件包可能有需要排查的问题，我们会在本书的开发过程中进行排查，将解决方案找到并固定下来。
      </p>
      <p>
        本书列出的下载位置可能失效。如果本书发布后，某个下载位置发生变化，可以用 Google (<a class="ulink" href=
        "http://www.google.com/">http://www.google.com/</a>)
        提供的搜索引擎找到大多数软件包。如果搜索不到，尝试 <a class="ulink" href=
        "http://www.linuxfromscratch.org/lfs/packages.html#packages">http://www.linuxfromscratch.org/lfs/packages.html#packages</a>
        给出的备用地址。
      </p>
      <p>
        下载好的软件包和补丁需要保存在一个适当的位置，使得在整个构建过程中都能容易地访问它们。另外，还需要一个工作目录，以便解压和编译软件包。我们可以将
        <code class="filename">$LFS/sources</code>
        既用于保存软件包和补丁，又作为工作目录。这样，我们需要的所有东西都在 LFS 分区中，因此在整个构建过程中都能够访问。
      </p>
      <p>
        为了创建这个目录，在开始下载软件包之前，以<code class="systemitem">root</code>身份执行：
      </p>
      <pre class="userinput"><kbd class=
      "command">mkdir -v $LFS/sources</kbd></pre>
      <p>
        下面为该目录添加写入权限和 sticky 标志。<span class="quote">“<span class=
        "quote">Sticky</span>”</span>
        标志使得即使有多个用户对该目录有写入权限，也只有文件所有者能够删除其中的文件。输入以下命令，启用写入权限和 sticky 标志：
      </p>
      <pre class="userinput"><kbd class=
      "command">chmod -v a+wt $LFS/sources</kbd></pre>
      <p>
        存在多种获取构建 LFS 必须的软件包和补丁的方法：
      </p>
      <div class="itemizedlist">
        <ul>
          <li class="listitem">
            <p>
              可以在后续的两节中，单独下载这些文件。
            </p>
          </li>
          <li class="listitem">
            <p>
              对于本手册的稳定版，可以从 <a class="ulink" href=
              "http://www.linuxfromscratch.org/mirrors.html#files">http://www.linuxfromscratch.org/mirrors.html#files</a>
              中列出的某个镜像站下载包含所有所需文件的压缩包。
            </p>
          </li>
          <li class="listitem">
            <p>
              可以使用 <span class="command"><strong>wget</strong></span> 和下面描述的
              wget-list 下载这些文件。
            </p>
          </li>
        </ul>
      </div>
      <p>
        如果要使用 <a class="ulink" href="../wget-list">wget-list</a> 作为
        <span class="command"><strong>wget</strong></span>
        命令的输入，以下载所有软件包和补丁，使用命令：
      </p>
      <pre class="userinput"><kbd class=
      "command">wget --input-file=wget-list --continue --directory-prefix=$LFS/sources</kbd></pre>
      <p>
        另外，自 LFS-7.0 以来，本书提供一个单独的文件 <a class="ulink" href=
        "../md5sums">md5sums</a>，用来检查所有软件包的正确性。将该文件复制到<code class=
        "filename">$LFS/sources</code>，运行以下命令即可得到检查结果：
      </p>
      <pre class="userinput"><kbd class="command">pushd $LFS/sources
  md5sum -c md5sums
popd</kbd></pre>
      <p>
        使用上面的各种方法获取文件后，都可以执行这项检查。
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="chapter03.html" title="软件包和补丁">上一页</a>
          <p>
            软件包和补丁
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="packages.html" title="全部软件包">下一页</a>
          <p>
            全部软件包
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter03.html" title=
          "第&nbsp;3&nbsp;章&nbsp;软件包和补丁">上一级</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - 版本 20200927-systemd，中文翻译版">起始页</a>
        </li>
      </ul>
    </div>
  </body>
</html>
